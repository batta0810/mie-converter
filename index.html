<!DOCTYPE html>
<html lang="en">
    <head>
        <title>MIE Converter</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <meta name="theme-color" content="#212121"/>

        <script type="text/javascript" src="js/deflate.js"></script>
        <script type="text/javascript" src="js/filesaver.js"></script>
        <script type="text/javascript" src="js/index.js"></script>

        <link href="https://fonts.googleapis.com/css?family=Comfortaa:400,700&amp;display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Kosugi+Maru&display=swap" rel="stylesheet">
        <link type="text/css" href="css/index.css" rel="stylesheet">
        <link rel="manifest" href="manifest.json">
        <link rel="shortcut icon" href="favicon.ico" />
    </head>
    <body class="disable-select" link="#eeeeee" vlink="#eeeeee" alink="#bdbdbd">
        <h1>MapImageEngine: Converter</h1>
        <p style="font-family: 'Kosugi Maru', sans-serif;">(MapImageEngine専用ファイル変換ツール)</p>
        <hr align="center" width="100%" size="2" color="#9e9e9e" />

        <div id="upload" style="display: none">
        	<br><br>
            <form enctype="multipart/form-data">
                <label  style="font-family: 'Kosugi Maru', sans-serif;">
                    幅:&nbsp;
                    <input id="upload.width" class="number-input" type="text" value="1" autocomplete="off" />
                </label>
                <br><br>

                <label  style="font-family: 'Kosugi Maru', sans-serif;">
                    高さ:&nbsp;
                    <input id="upload.height" class="number-input" type="text" value="1" autocomplete="off" />
                </label>
                <br><br>

                <label class="file-upload-label"  style="font-family: 'Kosugi Maru', sans-serif;">
                    <input type="file" name="image_upload" id="upload.image" onChange="processFile(this)" />
                    写真を選択する
                </label>
            </form>
        </div>
        <br>

        <div id="progress" style="display: none"  style="font-family: 'Kosugi Maru', sans-serif;">
            変換中...
        </div>

        <div id="success" class="success" style="display: none"  style="font-family: 'Kosugi Maru', sans-serif;">
            写真の変換が完了しました！ダウンロードを開始します
        </div>

        <div id="error" class="error"  style="font-family: 'Kosugi Maru', sans-serif;">
            <noscript>
                JavaScriptが有効化されていません！有効化してください
            </noscript>
        </div>

        <br>
        <hr align="center" width="100%" size="2" color="#9e9e9e" />
        <br>

        <div id="credits">
            Plugin creator:
            <a target="_blank" href="https://github.com/FaigerSYS">FaigerSYS</a>
        </div>

        <script>
          if('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').then(function(registration) {
                console.log('Service Worker Registered');
                registration.update();
            }).catch(error => { console.log(error) });
          }
        </script>
    </body>
</html>
